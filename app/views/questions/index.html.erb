<div class="displayWindow">
<div class="container">
<h1>Listing Questions</h1>

<table class="table table-light table-striped">
  <thead>
    <th>Title</th>
    <th>Tags</th>
    <th>Upvotes</th>
    <th>Downvotes</th>
  </thead>
  <tbody>
  <% @questions.each do |question| %>
    <% @upvotes = QVote.total_up_votes(question.id) %>
    <% @downvotes = QVote.total_down_votes(question.id) %>
    <tr scope="row"> 
      <td><%= question.title %></td>
      <td><%= question.all_tags %></td>    
      <td><%= @upvotes %></td>      
      <td><%= @downvotes %></td>
      <td><%= link_to 'Show', question_path(question) %></td>
      <% if current_user.present? %>
        <td><%= link_to "", upvote_question_path(question), method: :post, class: "fas fa-thumbs-up" %></td>
        <td><%= link_to "", downvote_question_path(question), method: :post, class: "fas fa-thumbs-down" %></td>
        <% if question.user_id == current_user.id %>
          <td><%= link_to 'Edit', edit_question_path(question) %></td>
          <td><%= link_to 'Delete', question_path(question),
                  method: :delete,
                  data: { confirm: 'Are you sure?' } %></td>
        <%end%>
      <%end%>
    </tr>
  <% end %>
  </tbody>
</table>

<h3><%= link_to 'Want to add new question?', new_question_path %><h3>

</div>
</div>