<div class="displayWindow">
<div class="container">
  <h1>Welcome!</h1>
  <% if current_user == nil %>
    <p>Register to get started.</p>
    <p>
      <%= link_to 'Register', new_user_registration_path, class: 'btn btn-primary btn-lg' %>
    </p>
  <% end %>      
</div>  
<div class="container">
<h1>Most Popular Questions</h1>

<table class="table table-light table-striped">
  <thead>
    <th>Title</th>
    <th>Text</th>
    <th>Tags</th>
    <th>Upvotes</th>
    <th>Downvotes</th>
  </thead>
  <tbody>
  <% @mostUpVoted.each do |i| %>
    <% question = @questions[i] %>
    <% @upvotes = QVote.total_up_votes(question.id) %>
    <% @downvotes = QVote.total_down_votes(question.id) %>
    <tr scope="row"> 
      <td><%= question.title %></td>
      <td><%= question.text %></td>      
      <td><%= question.all_tags %></td>    
      <td><%= @upvotes %></td>      
      <td><%= @downvotes %></td>

      <td><%= button_to '+1', upvote_question_path(question), method: :post%></td>
      <td><%= button_to '-1', downvote_question_path(question), method: :post %></td>
      <td><%= link_to 'Show', question_path(question) %></td>
      <% if question.user_id == current_user.id %>
      <td><%= link_to 'Edit', edit_question_path(question) %></td>
      <td><%= link_to 'Delete', question_path(question),
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
      <%end%>
    </tr>
  <% end %>
  </tbody>
</table>

<h3><%= link_to 'Want to add new question?', new_question_path %><h3>

</div>
</div>
</div>    



  

 

